buildscript {
  ext { springBootVersion = '1.4.0.RELEASE' }
  repositories { jcenter() }
  dependencies { classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}") }
}

plugins {
  id "com.cinnober.gradle.semver-git" version "2.2.2"
  id "com.jfrog.bintray" version "1.7.1"
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'spring-boot'
apply plugin: 'maven'
apply plugin: 'maven-publish'

group = 'de.gessnerfl.rabbitmq'
description = """RabbitMQ :: Queue Management :: List/Move/Delete dead messages from queues"""

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories { jcenter() }

dependencies {
  compile 'org.springframework.boot:spring-boot-starter-actuator'
  compile 'org.springframework.boot:spring-boot-starter-remote-shell'
  compile 'org.springframework.boot:spring-boot-starter-thymeleaf'
  compile 'org.springframework.boot:spring-boot-devtools'
  compile 'io.github.openfeign:feign-core:9.3.1'
  compile 'io.github.openfeign:feign-gson:9.3.1'
  compile 'io.github.openfeign:feign-slf4j:9.3.1'
  compile 'com.google.code.gson:gson:2.7'
  compile 'commons-codec:commons-codec:1.10'

  compile 'org.webjars:jquery:2.2.4'
  compile 'org.webjars:materializecss:0.97.7'

  compile 'com.rabbitmq:amqp-client:3.6.5'

  testCompile 'org.springframework.boot:spring-boot-starter-test'
  testCompile 'org.hamcrest:hamcrest-core:1.3'
}

task sourcesJar(type: Jar, dependsOn: classes) {
  classifier = 'sources'
  from sourceSets.main.allSource
}

task javadocJar(type: Jar, dependsOn: javadoc) {
  classifier = 'javadoc'
  from javadoc.destinationDir
}

artifacts {
  archives sourcesJar
  archives javadocJar
}
